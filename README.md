# Проект по курсу "Грамматика Конструкций"
## X-а ударила молния vs X-а ударило молнией vs в X-а ударила молния vs в X-а ударило молнией
*Захарова Елена, БКЛ-142*

### Материалы
[Ссылка на таблицу с данными](https://docs.google.com/spreadsheets/d/1Mfcpu0F07SCs0XTF0nQuijxkYaAqtx_8zJ0DiUGAbRo/edit)  
[Ссылка на код с комментариями](https://github.com/eszakharova/cxg_project/blob/master/lightning_decision_tree.ipynb)

## Рабочая гипотеза

В языке ... конструкция "..." чаще встречается при таких-то условиях, чем альтернативная ей конструкция "...". На выбор конструкции могут также оказывать влияние такие-то социолингвистические / лингвистические факторы.

## Данные

### Материал исследования
Я сделала 4 запроса в корпус Araneum Russicum II Maximum (Russian, 17.03), НКРЯ основной подкопус и НКРЯ газетный подкорупс:			
+ "ударить" []{1,2} [word="молния"] 		лемма ударить на расстоянии от 1 до 2 до слова молния (именно в такой форме) 
+ [word="молния"] []{1,2} "ударить" 		то же самое в обратном порядке 
+ "ударить" []{1,2} [word="молнией"] 	  лемма ударить на расстоянии от 1 до 2 до слова молнией (именно в такой форме) 
+ [word="молнией"] []{1,2} "ударить" 		то же самое в обратном порядке 

Данные были очищены от мусора, от примеров, где arg1 отсутвует (типа *Грянул гром и ударила молния.*) , от примеров, где выражен агенс (типа X ударил Y-а/в Y-а молнией).
___________________________________________________________

Итоговый размер выборки - 225 примеров.
+ 201 - молния субъект
+ 24 - молния не субъект


### Факторы выбора конструкции
Завиисимая переменная (Subject) - является ли слово "молния" субъектом глагольной формы.
#### Признаки использованные при анализе:
+ **Order** - порядок слов в конструкции. Категориальный - 6 вариантов - X молния ударить / X ударить молния	/ молния X ударить / молния ударить X /	ударить X молния / ударить молния X 
+ **Arg1_anim**	- одушевленность пациенса. Бинарный.
+ **Verb_fin**	- стоит ли глалог в финитной форме. Бинарный.
+ **Obj**	- пациенс является прямым дополнение в аккузативе (его vs в него).  Бинарный. 
+ **Has_arg2** - расщепленность пациенса (молния ударила его в спину). Бинарный. 
+ **Direct_meaning** - прямое значение (Его ударила молния vs Меня как будто молнией ударило/его словно молнией ударило и т.д.). Бинарный	
+ **Fact** - состоялся ли удар молнии в реальности (Его ударила молния vs Вас может ударить молния/вдруг меня ударит молния и т.д.) Бинарный. 

## Анализ: дескриптивная статистика
#### Коэффициенты корреляции признаков с целевой переменнй и друг с другом
Категориальный признак Order был преобразован в бинарные (OneHotEncoding)

|  | Subject | X м у | X у м | м X у | м у X | у X м | у м X | Anim | Fin | Obj | Arg2 | Direct | Fact |
|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|
| **Subject** | 1.0 | -0.2555 | -0.02 | -0.2636 | **0.3002** | -0.0378 | 0.0327 | **-0.324** | -0.0573 | **-0.5193** | 0.0521 | **0.4486** | 0.2953 |
| **X м у** | -0.2555 | 1.0 | -0.1508 | -0.0765 | -0.2159 | -0.0561 | -0.0215 | 0.1864 | 0.0708 | 0.252 | -0.0342 | **-0.3637** | -0.1997 |
| **X у м** | -0.02 | -0.1508 | 1.0 | -0.2244 | -0.6333 | -0.1647 | -0.063 | 0.2834 | 0.2077 | 0.0366 | -0.1003 | 0.0723 | 0.0328 |
| **м X у** | -0.2636 | -0.0765 | -0.2244 | 1.0 | -0.3213 | -0.0836 | -0.032 | 0.1339 | 0.0538 | 0.1665 | -0.0509 | -0.2039 | -0.2082 |
| **м у X** | **0.3002** | -0.2159 | -0.6333 | -0.3213 | 1.0 | -0.2358 | -0.0902 | -0.3294 | -0.1404 | -0.1778 | 0.1583 | 0.2036 | 0.125 |
| **у X м** | -0.0378 | -0.0561 | -0.1647 | -0.0836 | -0.2358 | 1.0 | -0.0235 | -0.1692 | -0.2573 | -0.1221 | -0.0373 | 0.0104 | 0.1004 |
| **у м X** | 0.0327 | -0.0215 | -0.063 | -0.032 | -0.0902 | -0.0235 | 1.0 | -0.0795 | 0.0296 | -0.0467 | -0.0143 | 0.0296 | 0.0552 |
| **Anim** | **-0.324** | 0.1864 | 0.2834 | 0.1339 | **-0.3294** | -0.1692 | -0.0795 | 1.0 | 0.1987 | **0.5646** | 0.1796 | **-0.3404** | **-0.4242** |
| **Fin** | -0.0573 | 0.0708 | 0.2077 | 0.0538 | -0.1404 | -0.2573 | 0.0296 | 0.1987 | 1.0 | 0.1146 | -0.0589 | -0.0976 | -0.1819 |
| **Obj** | **-0.5193** | 0.252 | 0.0366 | 0.1665 | -0.1778 | -0.1221 | -0.0467 | **0.5646** | 0.1146 | 1.0 | **0.3058** | **-0.3973** | -0.2796 |
| **Arg2** | 0.0521 | -0.0342 | -0.1003 | -0.0509 | 0.1583 | -0.0373 | -0.0143 | 0.1796 | -0.0589 | **0.3058** | 1.0 | -0.0589 | 0.0185 |
| **Direct** | **0.4486** | **-0.3637** | 0.0723 | -0.2039 | 0.2036 | 0.0104 | 0.0296 | **-0.3404** | -0.0976 | **-0.3973** | -0.0589 | 1.0 | ***0.5362** |
| **Fact** | 0.2953 | -0.1997 | 0.0328 | -0.2082 | 0.125 | 0.1004 | 0.0552 | **-0.4242** | -0.1819 | -0.2796 | 0.0185 | **0.5362** | 1.0 |


В этом разделе располагаются таблицы, графики и обсуждение дистрибуции значений в отдельных переменных и взаимной дистрибуции пар переменных.
Рекомендуются гистограммы, density plots, боксплоты (или violin plots), метрики корреляции и статистической значимости. Если вы используете метрику хи-квадрат, не забывайте посчитать к ней effect size.

## Мультифакторный анализ
Для анализа было построено дерево решений с помощью библиотеки sklearn для Python. Параметры дерева: критерий разбиения - Джини, ограничений на максимальную глубину и количесвто листов нет. 
### Визуализация дерева
![tree_visualizaton](https://github.com/eszakharova/cxg_project/blob/master/dtree_subject.png)
### Веса признаков в дереве
+ Obj: 0.421850544636
+ молния ударить X: 0.25128884706
+ Direct_meaning: 0.0947229571271
+ Fact: 0.0680717588577
+ X ударить молния: 0.0486339082556
+ X молния ударить: 0.0413039172984
+ Arg1_anim: 0.0393259312891
+ молния X ударить: 0.0219810729968
+ Verb_fin: 0.00870337737228
+ ударить X молния: 0.00411768510695
+ ударить молния X: 0.0
+ Has_arg2: 0.0
### Веса признаков - решающий лес
Дополнительно на данных была обучена модель Random Forest (10 деревьев, критерий разбиения Джини,ограничений на максимальную глубину и количесвто листов нет)
+ Obj: 0.354537086241
+ Direct_meaning: 0.150090984378
+ молния ударить X: 0.121329226543
+ X ударить молния: 0.0787254267499
+ Fact: 0.0739049767286
+ Arg1_anim: 0.071919407058
+ X молния ударить: 0.0607862177519
+ молния X ударить: 0.0530938830367
+ ударить X молния: 0.0184921943275
+ Verb_fin: 0.0169452435984
+ ударить молния X: 0.000175353586696
+ Has_arg2: 0.0

## Содержательный лингвистический анализ результатов статистического анализа
Без содержательного анализа факторов выбора конструкции (взаимодействия выделенных вами переменных, их значимости/важности) проект не будет считаться выполненным.   

## Обсуждение использованных квантитативных методов
### Качество классификации
В заключение вы можете предложить идеи по дальнейшей работе с данными и их статистическим анализом. 
